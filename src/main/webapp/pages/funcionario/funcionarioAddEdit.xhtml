<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" xmlns:bnu="http://bootsfaces.net/ui">


<ui:composition template="/tampletes/modeloGeral.xhtml">

	<ui:define name="conteudo">
		<f:view>
			<f:event listener="#{funcionarioBean.loadCadastro()}"
				type="preRenderView"></f:event>
		</f:view>
		<h:form id="frmuser">
			<h:inputHidden value="#{funcionarioBean.funcionarioEntity.id}" />
		
			<bnu:panel title="Dados do Funcionario">
				<bnu:inputText id="frm_fun_nome"
					value="#{funcionarioBean.funcionarioEntity.nome}" label="Nome Do Funcionário"
					required="true" required-message="Campo obrigatório" />
			
			</bnu:panel>

			<bnu:panel title="Dados do Usuário">


				<h:message for="frm_user_nome" />
				<bnu:inputText id="frm_user_nome"
					value="#{funcionarioBean.usuarioEntity.username}" label="Nome Usuário"
					required="true" required-message="Campo obrigatório" />


				<h:message for="frm_mail" />
				<bnu:inputText id="frm_mail"
					value="#{funcionarioBean.usuarioEntity.email}" label="E-mail"
					required="true" required-message="Campo obrigatório" />


				<h:message for="frm_senha" />
				<bnu:inputText id="frm_senha"
					value="#{funcionarioBean.usuarioEntity.password}" label="Password"
					size="20" required="true" required-message="Campo obrigatório" />

				<h:selectManyCheckbox value="#{funcionarioBean.permissaoSelecionadas}"
					layout="pageDirection"  converter="omnifaces.SelectItemsConverter">
					<f:selectItems value="#{funcionarioBean.loadPermissoes()}"
						var="permissao" itemValue="#{permissao}" itemLabel="#{permissao.role}" />
				</h:selectManyCheckbox>

				
				
							<h:commandButton value="salvar" 
								action="#{funcionarioBean.salvarOuDeletar()}" />

							<h:commandButton value="Excluir"
								action="#{funcionarioBean.deletar()}" />

							<h:commandButton value="Editar"
								action="#{funcionarioBean.salvarOuDeletar()}" />

							<h:commandButton value="cancelar"
								action="/pages/funcionario/funcionarioList.xhtml"  />
			</bnu:panel>
		</h:form>
	</ui:define>
</ui:composition>
</html>